(function(e){function t(t){for(var o,n,s=t[0],d=t[1],r=t[2],c=0,u=[];c<s.length;c++)n=s[c],l[n]&&u.push(l[n][0]),l[n]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);p&&p(t);while(u.length)u.shift()();return i.push.apply(i,r||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,s=1;s<a.length;s++){var d=a[s];0!==l[d]&&(o=!1)}o&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},l={app:0},i=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var p=d;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2856:function(e,t,a){},"314e":function(e,t,a){"use strict";var o=a("b325"),l=a.n(o);l.a},3516:function(e,t,a){"use strict";var o=a("b36f"),l=a.n(o);l.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"fm-container"},[a("router-view")],1)])},i=[],n={name:"app"},s=n,d=(a("5c0b"),a("2877")),r=Object(d["a"])(s,l,i,!1,null,null,null);r.options.__file="App.vue";var p=r.exports,c=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fm-making-form")},m=[],f={},h=f,b=Object(d["a"])(h,u,m,!1,null,null,null);b.options.__file="Home.vue";var g=b.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"50px"}},[a("upload",{attrs:{width:160,height:100,token:e.uptoken,domain:e.domain}})],1)},w=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fm-uplaod-container",attrs:{id:e.uploadId}},[e._l(e.fileList,function(t){return a("div",{key:t.key,staticClass:"upload-file",class:{uploading:"uploading"==t.status,"is-success":"success"==t.status},style:{width:e.width+"px",height:e.height+"px"},attrs:{id:t.key}},[a("img",{attrs:{src:t.url}}),"uploading"==t.status?a("el-progress",{staticClass:"upload-progress",attrs:{width:.9*e.miniWidth,type:"circle",percentage:t.percent}}):e._e(),"success"==t.status?a("label",{staticClass:"item-status"},[a("i",{staticClass:"el-icon-upload-success el-icon-check"})]):e._e(),a("div",{staticClass:"uplaod-action"},[a("i",{staticClass:"el-icon-view",style:{"font-size":e.miniWidth/4+"px"},on:{click:function(a){e.handlePreviewFile(t.key)}}}),a("i",{staticClass:"el-icon-delete",style:{"font-size":e.miniWidth/4+"px"},on:{click:function(a){e.handleRemove(t.key)}}})])],1)}),e.token?a("div",{staticClass:"el-upload el-upload--picture-card",style:{width:e.width+"px",height:e.height+"px"}},[a("i",{staticClass:"el-icon-plus",style:{fontSize:e.miniWidth/4+"px",marginTop:-e.miniWidth/8+"px",marginLeft:-e.miniWidth/8+"px"}}),a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:e.width+"px",height:e.height+"px"},attrs:{accept:"image/*",multiple:"",type:"file",name:"file"},on:{change:e.handleChange}})]):e._e()],2)},y=[],k=a("c93e"),x=(a("28a5"),a("20d6"),a("c5f6"),a("90b8"));a("0808");var O={props:{value:{type:Array,default:function(){return[]}},width:{type:Number,default:100},height:{type:Number,default:100},token:{type:String,default:""},domain:{type:String,default:""},multiple:{type:Boolean,default:!0},length:{type:Number,default:9}},data:function(){return{fileList:[],viewer:null,uploadId:"upload_"+(new Date).getTime()}},computed:{miniWidth:function(){return this.width>this.height?this.height:this.width}},methods:{handleChange:function(){var e=this;console.log(this.$refs.uploadInput.files);for(var t=this.$refs.uploadInput.files,a=function(a){var o=t[a],l=new FileReader,i=(new Date).getTime()+"_"+Math.ceil(99999*Math.random());l.readAsDataURL(o),l.onload=function(){e.fileList.push({key:i,url:l.result,percent:0,status:"uploading"}),e.$nextTick(function(){e.uplaodAction(l.result,o,i)})}},o=0;o<t.length;o++)a(o);this.$refs.uploadInput.value=[]},uplaodAction:function(e,t,a){var o=this;this.fileList.findIndex(function(e){return e.key===a});console.log(this.fileList.findIndex(function(e){return e.key===a}));var l=new XMLHttpRequest,i="http://upload-z2.qiniu.com/putb64/"+t.size;l.open("POST",i,!0),l.setRequestHeader("Content-Type","application/octet-stream"),l.setRequestHeader("Authorization","UpToken "+this.token),l.send(e.split(",")[1]),l.onreadystatechange=function(){if(console.log(l),4===l.readyState){var e=JSON.parse(l.response);e?(o.$set(o.fileList,o.fileList.findIndex(function(e){return e.key===a}),Object(k["a"])({},o.fileList[o.fileList.findIndex(function(e){return e.key===a})],{url:o.domain+e.key,percent:100})),setTimeout(function(){o.$set(o.fileList,o.fileList.findIndex(function(e){return e.key===a}),Object(k["a"])({},o.fileList[o.fileList.findIndex(function(e){return e.key===a})],{status:"success"})),o.$emit("input",o.fileList)},200)):(o.$set(o.fileList,o.fileList.findIndex(function(e){return e.key===a}),Object(k["a"])({},o.fileList[o.fileList.findIndex(function(e){return e.key===a})],{status:"error"})),o.fileList.splice(o.fileList.findIndex(function(e){return e.key===a}),1))}},l.onprogress=function(e){console.log("progress",e),e.total&&e.loaded&&o.$set(o.fileList[o.fileList.findIndex(function(e){return e.key===a})],"percent",e.loaded/e.total*100)}},handleRemove:function(e){this.fileList.splice(this.fileList.findIndex(function(t){return t.key===e}),1)},handlePreviewFile:function(e){var t=this;this.viewer&&this.viewer.destroy(),this.uploadId="upload_"+(new Date).getTime(),console.log(this.viewer),this.$nextTick(function(){t.viewer=new x["a"](document.getElementById(t.uploadId)),t.viewer.view(t.fileList.findIndex(function(t){return t.key===e}))})}}},$=O,V=(a("3516"),Object(d["a"])($,_,y,!1,null,null,null));V.options.__file="index.vue";var j=V.exports,C=a("bc3a"),M=a.n(C),P=M.a.create({withCredentials:!1});P.interceptors.request.use(function(e){return e},function(e){return console.log("error",e),Promise.reject(new Error(e).message)}),P.interceptors.response.use(function(e){return console.log(".....",e),e.data},function(e){return console.log("error",e),Promise.reject(new Error(e).message)});var S=P,T={components:{Upload:j},data:function(){return{uptoken:"",domain:"http://pakhu39nl.bkt.clouddn.com/"}},created:function(){var e=this;S.get("http://localhost:9000/api/uptoken").then(function(t){console.log("res",t),e.uptoken=t.uptoken})}},W=T,E=Object(d["a"])(W,v,w,!1,null,null,null);E.options.__file="Test.vue";var F=E.exports;o["default"].use(c["a"]);var L=new c["a"]({routes:[{path:"/",component:g},{path:"/test",name:"test",component:F}]}),D=a("5c96"),I=a.n(D),R=(a("0fae"),a("ac6a"),a("7f7f"),a("f5df"),a("0874")),q=(a("57ff"),a("e675"),a("0e74"),a("d0d0"),a("7213"),a("b7a3"),a("97e6"),a("8246"),a("a7c5"),a("d61e"),a("f92d"),a("2149"),a("c04b"),a("4464"),a("abfd"),a("53fb"),a("b3cd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{wdith:"250px"}},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"widget-cate"},[e._v("基础字段")]),a("draggable",{attrs:{element:"ul",list:e.basicComponents,options:{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},e._l(e.basicComponents,function(t,o){return a("li",{key:o,staticClass:"form-edit-widget-label"},[a("a",[a("icon",{staticClass:"icon",attrs:{name:t.icon}}),a("span",[e._v(e._s(t.name))])],1)])})),a("div",{staticClass:"widget-cate"},[e._v("高级字段")]),a("draggable",{attrs:{element:"ul",list:e.advanceComponents,options:{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},e._l(e.advanceComponents,function(t,o){return a("li",{key:o,staticClass:"form-edit-widget-label"},[a("a",[a("icon",{staticClass:"icon",attrs:{name:t.icon}}),a("span",[e._v(e._s(t.name))])],1)])})),a("div",{staticClass:"widget-cate"},[e._v("布局字段")]),a("draggable",{attrs:{element:"ul",list:e.layoutComponents,options:{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},e._l(e.layoutComponents,function(t,o){return a("li",{key:o,staticClass:"form-edit-widget-label data-grid"},[a("a",[a("icon",{staticClass:"icon",attrs:{name:t.icon}}),a("span",[e._v(e._s(t.name))])],1)])}))],1)]),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v("预览")]),a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-tickets"},on:{click:e.handleGenerateJson}},[e._v("生成JSON")]),a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-document"},on:{click:e.handleGenerateCode}},[e._v("生成代码")])],1),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect},on:{"update:select":function(t){e.widgetFormSelect=t}}})],1)],1),a("el-aside",{staticClass:"widget-config-container"},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){e.handleConfigSelect("widget")}}},[e._v("字段属性")]),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){e.handleConfigSelect("form")}}},[e._v("表单属性")])]),a("el-main",{staticClass:"config-content"},[a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],attrs:{data:e.widgetForm.config}})],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1},"on-submit":e.handleTest}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{data:e.widgetForm,remote:e.remoteFuncs,value:e.widgetModels},scopedSlots:e._u([{key:"blank",fn:function(t){return[e._v("\n        宽度："),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("\n        高度："),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}])}):e._e()],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{attrs:{id:"copybtn","data-clipboard-target":".ace_text-input"}},[e._v("双击复制")])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)}),z=[],A=a("1516"),U=a.n(A),B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("el-form",{attrs:{"label-position":"top"}},["grid"!=e.data.type?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):e._e(),Object.keys(e.data.options).indexOf("width")>=0?a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{model:{value:e.data.options.width,callback:function(t){e.$set(e.data.options,"width",t)},expression:"data.options.width"}})],1):e._e(),Object.keys(e.data.options).indexOf("size")>=0?a("el-form-item",{attrs:{label:"大小"}},[e._v("\n      宽度："),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.width,callback:function(t){e.$set(e.data.options.size,"width",e._n(t))},expression:"data.options.size.width"}}),e._v("\n      高度："),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.height,callback:function(t){e.$set(e.data.options.size,"height",e._n(t))},expression:"data.options.size.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:"占位内容"}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("inline")>=0?a("el-form-item",{attrs:{label:"布局方式"}},[a("el-radio-group",{model:{value:e.data.options.inline,callback:function(t){e.$set(e.data.options,"inline",t)},expression:"data.options.inline"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("块级")]),a("el-radio-button",{attrs:{label:!0}},[e._v("行内")])],1)],1):e._e(),Object.keys(e.data.options).indexOf("showInput")>=0?a("el-form-item",{attrs:{label:"显示输入框"}},[a("el-switch",{model:{value:e.data.options.showInput,callback:function(t){e.$set(e.data.options,"showInput",t)},expression:"data.options.showInput"}})],1):e._e(),Object.keys(e.data.options).indexOf("min")>=0?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.min,callback:function(t){e.$set(e.data.options,"min",t)},expression:"data.options.min"}})],1):e._e(),Object.keys(e.data.options).indexOf("max")>=0?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.max,callback:function(t){e.$set(e.data.options,"max",t)},expression:"data.options.max"}})],1):e._e(),Object.keys(e.data.options).indexOf("step")>=0?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.step,callback:function(t){e.$set(e.data.options,"step",t)},expression:"data.options.step"}})],1):e._e(),"select"==e.data.type?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.handleSelectMuliple},model:{value:e.data.options.multiple,callback:function(t){e.$set(e.data.options,"multiple",t)},expression:"data.options.multiple"}})],1):e._e(),Object.keys(e.data.options).indexOf("allowHalf")>=0?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.data.options.allowHalf,callback:function(t){e.$set(e.data.options,"allowHalf",t)},expression:"data.options.allowHalf"}})],1):e._e(),Object.keys(e.data.options).indexOf("showAlpha")>=0?a("el-form-item",{attrs:{label:"支持透明度选择"}},[a("el-switch",{model:{value:e.data.options.showAlpha,callback:function(t){e.$set(e.data.options,"showAlpha",t)},expression:"data.options.showAlpha"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLabel")>=0?a("el-form-item",{attrs:{label:"是否显示标签"}},[a("el-switch",{model:{value:e.data.options.showLabel,callback:function(t){e.$set(e.data.options,"showLabel",t)},expression:"data.options.showLabel"}})],1):e._e(),Object.keys(e.data.options).indexOf("options")>=0?a("el-form-item",{attrs:{label:"选项"}},[a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"mini"},model:{value:e.data.options.remote,callback:function(t){e.$set(e.data.options,"remote",t)},expression:"data.options.remote"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("静态数据")]),a("el-radio-button",{attrs:{label:!0}},[e._v("远端数据")])],1),e.data.options.remote?[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v("远端方法")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v("值")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v("标签")])],2)],1)]:["radio"==e.data.type||"select"==e.data.type&&!e.data.options.multiple?[a("el-radio-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",{attrs:{element:"ul",list:e.data.options.options,options:{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"}}},e._l(e.data.options.options,function(t,o){return a("li",{key:o},[a("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"190px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("icon",{attrs:{name:"bars"}})],1),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){e.handleOptionsRemove(o)}}})],1)}))],1)]:e._e(),"checkbox"==e.data.type||"select"==e.data.type&&e.data.options.multiple?[a("el-checkbox-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",{attrs:{element:"ul",list:e.data.options.options,options:{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"}}},e._l(e.data.options.options,function(t,o){return a("li",{key:o},[a("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"190px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("icon",{attrs:{name:"bars"}})],1),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){e.handleOptionsRemove(o)}}})],1)}))],1)]:e._e(),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddOption}},[e._v("添加选项")])],1)]],2):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("textarea"==e.data.type||"input"==e.data.type||"rate"==e.data.type||"color"==e.data.type||"switch"==e.data.type)?a("el-form-item",{attrs:{label:"默认值"}},["textarea"==e.data.type?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"input"==e.data.type?a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:e.data.options.max,"allow-half":e.data.options.allowHalf},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(t){e.data.options.defaultValue=0}}},[e._v("清空")]):e._e(),"color"==e.data.type?a("el-color-picker",{attrs:{"show-alpha":e.data.options.showAlpha},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"switch"==e.data.type?a("el-switch",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e(),"time"==e.data.type||"date"==e.data.type?["date"==e.data.type?a("el-form-item",{attrs:{label:"显示类型"}},[a("el-select",{model:{value:e.data.options.type,callback:function(t){e.$set(e.data.options,"type",t)},expression:"data.options.type"}},[a("el-option",{attrs:{value:"year"}}),a("el-option",{attrs:{value:"month"}}),a("el-option",{attrs:{value:"date"}}),a("el-option",{attrs:{value:"dates"}}),a("el-option",{attrs:{value:"datetime"}}),a("el-option",{attrs:{value:"datetimerange"}}),a("el-option",{attrs:{value:"daterange"}})],1)],1):e._e(),"time"==e.data.type?a("el-form-item",{attrs:{label:"是否为范围选择"}},[a("el-switch",{model:{value:e.data.options.isRange,callback:function(t){e.$set(e.data.options,"isRange",t)},expression:"data.options.isRange"}})],1):e._e(),"date"==e.data.type?a("el-form-item",{attrs:{label:"是否获取时间戳"}},[a("el-switch",{model:{value:e.data.options.timestamp,callback:function(t){e.$set(e.data.options,"timestamp",t)},expression:"data.options.timestamp"}})],1):e._e(),!e.data.options.isRange&&"time"==e.data.type||"time"!=e.data.type&&"datetimerange"!=e.data.options.type&&"daterange"!=e.data.options.type?a("el-form-item",{attrs:{label:"占位内容"}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:"开始时间占位内容"}},[a("el-input",{model:{value:e.data.options.startPlaceholder,callback:function(t){e.$set(e.data.options,"startPlaceholder",t)},expression:"data.options.startPlaceholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:"结束时间占位内容"}},[a("el-input",{model:{value:e.data.options.endPlaceholder,callback:function(t){e.$set(e.data.options,"endPlaceholder",t)},expression:"data.options.endPlaceholder"}})],1):e._e(),a("el-form-item",{attrs:{label:"格式"}},[a("el-input",{model:{value:e.data.options.format,callback:function(t){e.$set(e.data.options,"format",t)},expression:"data.options.format"}})],1),"time"==e.data.type&&Object.keys(e.data.options).indexOf("isRange")>=0?a("el-form-item",{attrs:{label:"默认值"}},[e.data.options.isRange?e._e():a("el-time-picker",{key:"1",staticStyle:{width:"100%"},attrs:{arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}),e.data.options.isRange?a("el-time-picker",{key:"2",staticStyle:{width:"100%"},attrs:{"is-range":"",arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e()]:e._e(),"imgupload"==e.data.type?[a("el-form-item",{attrs:{label:"最大上传数"}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.length,callback:function(t){e.$set(e.data.options,"length",e._n(t))},expression:"data.options.length"}})],1),a("el-form-item",{attrs:{label:"Domain",required:!0}},[a("el-input",{model:{value:e.data.options.domain,callback:function(t){e.$set(e.data.options,"domain",t)},expression:"data.options.domain"}})],1),a("el-form-item",{attrs:{label:"获取七牛Token方法",required:!0}},[a("el-input",{model:{value:e.data.options.tokenFunc,callback:function(t){e.$set(e.data.options,"tokenFunc",t)},expression:"data.options.tokenFunc"}})],1)]:e._e(),"blank"==e.data.type?[a("el-form-item",{attrs:{label:"绑定数据类型"}},[a("el-select",{model:{value:e.data.options.defaultType,callback:function(t){e.$set(e.data.options,"defaultType",t)},expression:"data.options.defaultType"}},[a("el-option",{attrs:{value:"String",label:"字符"}}),a("el-option",{attrs:{value:"Object",label:"对象"}}),a("el-option",{attrs:{value:"Array",label:"数组"}})],1)],1)]:e._e(),"grid"==e.data.type?[a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.gutter,callback:function(t){e.$set(e.data.options,"gutter",e._n(t))},expression:"data.options.gutter"}})],1),a("el-form-item",{attrs:{label:"列配置项"}},[a("draggable",{attrs:{element:"ul",list:e.data.columns,options:{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"}}},e._l(e.data.columns,function(t,o){return a("li",{key:o},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("icon",{attrs:{name:"bars"}})],1),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"栅格值",size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){e.handleOptionsRemove(o)}}})],1)})),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v("添加列")])],1)],1),a("el-form-item",{attrs:{label:"水平排列方式"}},[a("el-select",{model:{value:e.data.options.justify,callback:function(t){e.$set(e.data.options,"justify",t)},expression:"data.options.justify"}},[a("el-option",{attrs:{value:"start",label:"左对齐"}}),a("el-option",{attrs:{value:"end",label:"右对齐"}}),a("el-option",{attrs:{value:"center",label:"居中"}}),a("el-option",{attrs:{value:"space-around",label:"两侧间隔相等"}}),a("el-option",{attrs:{value:"space-between",label:"两端对齐"}})],1)],1),a("el-form-item",{attrs:{label:"垂直排列方式"}},[a("el-select",{model:{value:e.data.options.align,callback:function(t){e.$set(e.data.options,"align",t)},expression:"data.options.align"}},[a("el-option",{attrs:{value:"top",label:"顶部对齐"}}),a("el-option",{attrs:{value:"middle",label:"居中"}}),a("el-option",{attrs:{value:"bottom",label:"底部对齐"}})],1)],1)]:e._e(),"grid"!=e.data.type?[a("el-form-item",{attrs:{label:"数据绑定Key"}},[a("el-input",{model:{value:e.data.model,callback:function(t){e.$set(e.data,"model",t)},expression:"data.model"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[Object.keys(e.data.options).indexOf("readonly")>=0?a("el-checkbox",{model:{value:e.data.options.readonly,callback:function(t){e.$set(e.data.options,"readonly",t)},expression:"data.options.readonly"}},[e._v("完全只读")]):e._e(),Object.keys(e.data.options).indexOf("disabled")>=0?a("el-checkbox",{model:{value:e.data.options.disabled,callback:function(t){e.$set(e.data.options,"disabled",t)},expression:"data.options.disabled"}},[e._v("禁用\t")]):e._e(),Object.keys(e.data.options).indexOf("editable")>=0?a("el-checkbox",{model:{value:e.data.options.editable,callback:function(t){e.$set(e.data.options,"editable",t)},expression:"data.options.editable"}},[e._v("文本框可输入")]):e._e(),Object.keys(e.data.options).indexOf("clearable")>=0?a("el-checkbox",{model:{value:e.data.options.clearable,callback:function(t){e.$set(e.data.options,"clearable",t)},expression:"data.options.clearable"}},[e._v("显示清除按钮")]):e._e(),Object.keys(e.data.options).indexOf("arrowControl")>=0?a("el-checkbox",{model:{value:e.data.options.arrowControl,callback:function(t){e.$set(e.data.options,"arrowControl",t)},expression:"data.options.arrowControl"}},[e._v("使用箭头进行时间选择")]):e._e()],1),a("el-form-item",{attrs:{label:"校验"}},[a("div",[a("el-checkbox",{model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}},[e._v("必填")])],1),Object.keys(e.data.options).indexOf("dataType")>=0?a("el-select",{attrs:{size:"mini"},model:{value:e.data.options.dataType,callback:function(t){e.$set(e.data.options,"dataType",t)},expression:"data.options.dataType"}},[a("el-option",{attrs:{value:"string",label:"字符串"}}),a("el-option",{attrs:{value:"number",label:"数字"}}),a("el-option",{attrs:{value:"boolean",label:"布尔值"}}),a("el-option",{attrs:{value:"integer",label:"整数"}}),a("el-option",{attrs:{value:"float",label:"浮点数"}}),a("el-option",{attrs:{value:"url",label:"URL地址"}}),a("el-option",{attrs:{value:"email",label:"邮箱地址"}}),a("el-option",{attrs:{value:"hex",label:"十六进制"}})],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:"填写正则表达式"},model:{value:e.data.options.pattern,callback:function(t){e.$set(e.data.options,"pattern",t)},expression:"data.options.pattern"}})],1):e._e()],1)]:e._e()],2)],1):e._e()},G=[],H=a("9ea2"),K=H["a"],N=Object(d["a"])(K,B,G,!1,null,null,null);N.options.__file="WidgetConfig.vue";var J=N.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config-container"},[a("el-form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"标签对齐方式"}},[a("el-radio-group",{model:{value:e.data.labelPosition,callback:function(t){e.$set(e.data,"labelPosition",t)},expression:"data.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("左对齐")]),a("el-radio-button",{attrs:{label:"right"}},[e._v("右对齐")]),a("el-radio-button",{attrs:{label:"top"}},[e._v("顶部对齐")])],1)],1),a("el-form-item",{attrs:{label:"表单字段宽度"}},[a("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:e.data.labelWidth,callback:function(t){e.$set(e.data,"labelWidth",t)},expression:"data.labelWidth"}})],1)],1)],1)},Y=[],Z={props:["data"]},Q=Z,ee=Object(d["a"])(Q,X,Y,!1,null,null,null);ee.options.__file="FormConfig.vue";var te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container"},[a("el-form",{attrs:{"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[a("draggable",{staticClass:"widget-form-list",attrs:{options:{group:"people",ghostClass:"ghost"}},on:{end:e.handleMoveEnd,add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},[e._l(e.data.list,function(t,o){return["grid"==t.type?[t&&t.key?a("div",{key:t.key,staticClass:"widget-grid-container data-grid",staticStyle:{position:"relative"}},[a("el-row",{staticClass:"widget-grid ",class:{active:e.selectWidget.key==t.key},attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align},nativeOn:{click:function(t){e.handleSelectWidget(o)}}},e._l(t.columns,function(o,l){return a("el-col",{key:l,attrs:{span:o.span?o.span:0}},[a("div",{staticStyle:{border:"1px dashed #999"}},[a("draggable",{staticClass:"widget-form-list",staticStyle:{"padding-bottom":"50px"},attrs:{filter:"widget-grid-container",options:{group:"people",ghostClass:"ghost"}},on:{end:e.handleMoveEnd,add:function(a){e.handleWidgetColAdd(a,t,l)}},model:{value:o.list,callback:function(t){e.$set(o,"list",t)},expression:"col.list"}},e._l(o.list,function(t,l){return t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:l,data:o},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()}))],1)])})),e.selectWidget.key==t.key?a("el-button",{staticClass:"widget-action-delete",staticStyle:{bottom:"-20px"},attrs:{title:"删除",circle:"",plain:"",type:"danger"},on:{click:function(t){t.stopPropagation(),e.handleWidgetDelete(o)}}},[a("icon",{staticStyle:{width:"12px",height:"12px"},attrs:{name:"regular/trash-alt"}})],1):e._e()],1):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:o,data:e.data},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()]]})],2)],1)],1)},oe=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-form-item",{staticClass:"widget-view ",class:{active:e.selectWidget.key==e.element.key,is_req:e.element.options.required},attrs:{label:e.element.name},nativeOn:{click:function(t){e.handleSelectWidget(e.index)}}},["input"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"textarea"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{type:"textarea",rows:5,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"number"==e.element.type?[a("el-input-number",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,"controls-position":e.element.options.controlsPosition},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"radio"==e.element.type?[a("el-radio-group",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,function(t,o){return a("el-radio",{key:t.value+o,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v("\n            "+e._s(e.element.options.showLabel?t.label:t.value)+"\n          ")])}))]:e._e(),"checkbox"==e.element.type?[a("el-checkbox-group",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,function(t,o){return a("el-checkbox",{key:t.value+o,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v("\n            "+e._s(e.element.options.showLabel?t.label:t.value)+"\n          ")])}))]:e._e(),"time"==e.element.type?[a("el-time-picker",{style:{width:e.element.options.width},attrs:{"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable,arrowControl:e.element.options.arrowControl},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"date"==e.element.type?[a("el-date-picker",{style:{width:e.element.options.width},attrs:{type:e.element.options.type,"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"rate"==e.element.type?[a("el-rate",{attrs:{max:e.element.options.max,disabled:e.element.options.disabled,"allow-half":e.element.options.allowHalf},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"color"==e.element.type?[a("el-color-picker",{attrs:{disabled:e.element.options.disabled,"show-alpha":e.element.options.showAlpha},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"select"==e.element.type?[a("el-select",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.element.options.showLabel?t.label:t.value}})}))]:e._e(),"switch"==e.element.type?[a("el-switch",{attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"slider"==e.element.type?[a("el-slider",{style:{width:e.element.options.width},attrs:{min:e.element.options.min,max:e.element.options.max,disabled:e.element.options.disabled,step:e.element.options.step,"show-input":e.element.options.showInput,range:e.element.options.range},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"imgupload"==e.element.type?[a("fm-upload",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,width:e.element.options.size.width,height:e.element.options.size.height,token:"xxx",domain:"xxx"},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"blank"==e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v("自定义区域")])]:e._e(),e.selectWidget.key==e.element.key?a("el-button",{staticClass:"widget-action-delete",attrs:{title:"删除",circle:"",plain:"",type:"danger"},on:{click:function(t){t.stopPropagation(),e.handleWidgetDelete(e.index)}}},[a("icon",{staticStyle:{width:"12px",height:"12px"},attrs:{name:"regular/trash-alt"}})],1):e._e(),e.selectWidget.key==e.element.key?a("el-button",{staticClass:"widget-action-clone",attrs:{title:"复制",circle:"",plain:"",type:"primary"},on:{click:function(t){t.stopPropagation(),e.handleWidgetClone(e.index)}}},[a("icon",{staticStyle:{width:"12px",height:"12px"},attrs:{name:"regular/clone"}})],1):e._e()],2):e._e()},ie=[],ne={props:["element","select","index","data"],components:{FmUpload:j},data:function(){return{selectWidget:this.select}},methods:{handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(function(){t.data.list.splice(e,1)})},handleWidgetClone:function(e){var t=this,a=Object(k["a"])({},this.data.list[e],{options:Object(k["a"])({},this.data.list[e].options),key:Date.parse(new Date)+"_"+Math.ceil(99999*Math.random())});"radio"!==this.data.list[e].type&&"checkbox"!==this.data.list[e].type||(a=Object(k["a"])({},a,{options:Object(k["a"])({},a.options,{options:a.options.options.map(function(e){return Object(k["a"])({},e)})})})),this.data.list.splice(e,0,a),this.$nextTick(function(){t.selectWidget=t.data.list[e+1]})}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},se=ne,de=Object(d["a"])(se,le,ie,!1,null,null,null);de.options.__file="WidgetFormItem.vue";var re=de.exports,pe={components:{Draggable:U.a,WidgetFormItem:re},props:["data","select"],data:function(){return{selectWidget:this.select}},methods:{handleMoveEnd:function(e){var t=e.newIndex,a=e.oldIndex;console.log("index",t,a)},handleSelectWidget:function(e){console.log(e,"#####"),this.selectWidget=this.data.list[e]},handleWidgetAdd:function(e){console.log("add",e),console.log("end",e);var t=e.newIndex,a=e.to;console.log(a);var o=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());this.$set(this.data.list,t,Object(k["a"])({},this.data.list[t],{options:Object(k["a"])({},this.data.list[t].options,{remoteFunc:"func_"+o}),key:o,model:this.data.list[t].type+"_"+o,rules:[]})),"radio"!==this.data.list[t].type&&"checkbox"!==this.data.list[t].type||this.$set(this.data.list,t,Object(k["a"])({},this.data.list[t],{options:Object(k["a"])({},this.data.list[t].options,{options:this.data.list[t].options.options.map(function(e){return Object(k["a"])({},e)})})})),"grid"===this.data.list[t].type&&this.$set(this.data.list,t,Object(k["a"])({},this.data.list[t],{columns:this.data.list[t].columns.map(function(e){return Object(k["a"])({},e)})})),this.selectWidget=this.data.list[t]},handleWidgetColAdd:function(e,t,a){console.log("coladd",e,t,a);var o=e.newIndex,l=e.oldIndex,i=e.item;if(i.className.indexOf("data-grid")>=0)return"DIV"===i.tagName&&this.data.list.splice(l,0,t.columns[a].list[o]),t.columns[a].list.splice(o,1),!1;console.log("from",i);var n=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());this.$set(t.columns[a].list,o,Object(k["a"])({},t.columns[a].list[o],{options:Object(k["a"])({},t.columns[a].list[o].options,{remoteFunc:"func_"+n}),key:n,model:t.columns[a].list[o].type+"_"+n,rules:[]})),"radio"!==t.columns[a].list[o].type&&"checkbox"!==t.columns[a].list[o].type||this.$set(t.columns[a].list,o,Object(k["a"])({},t.columns[a].list[o],{options:Object(k["a"])({},t.columns[a].list[o].options,{options:t.columns[a].list[o].options.options.map(function(e){return Object(k["a"])({},e)})})})),this.selectWidget=t.columns[a].list[o]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(function(){t.data.list.splice(e,1)})}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},ce=pe,ue=Object(d["a"])(ce,ae,oe,!1,null,null,null);ue.options.__file="WidgetForm.vue";var me=ue.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,center:"",width:e.width,id:e.id},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])])],2):e._e()])},he=[],be={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},computed:{show:function(){return!this.form||this.showForm}},data:function(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close:function(){this.dialogVisible=!1},submit:function(){this.loading=!0,this.$emit("on-submit")},end:function(){this.loading=!1}},mounted:function(){},watch:{dialogVisible:function(e){var t=this;e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout(function(){t.showForm=!1},300))},visible:function(e){this.dialogVisible=e}}},ge=be,ve=(a("d7cd"),Object(d["a"])(ge,fe,he,!1,null,null,null));ve.options.__file="CusDialog.vue";var we=ve.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"generateForm",attrs:{model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[e._l(e.data.list,function(t){return["grid"==t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,function(t,o){return a("el-col",{key:o,attrs:{span:t.span}},[e._l(t.list,function(t){return["blank"==t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("genetate-form-item",{key:t.key,attrs:{models:e.models,remote:e.remote,rules:e.rules,widget:t},on:{"update:models":function(t){e.models=t}}})]})],2)}))]:"blank"==t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:[a("genetate-form-item",{key:t.key,attrs:{models:e.models,rules:e.rules,widget:t,remote:e.remote},on:{"update:models":function(t){e.models=t}}})]]})],2)],1)},ye=[],ke=a("8afe"),xe=(a("456d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.widget.name,prop:e.widget.model}},["input"==e.widget.type?["number"==e.widget.options.dataType||"integer"==e.widget.options.dataType||"float"==e.widget.options.dataType?a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=e._n(t)},expression:"dataModel"}}):a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"textarea"==e.widget.type?[a("el-input",{style:{width:e.widget.options.width},attrs:{type:"textarea",rows:5,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"number"==e.widget.type?[a("el-input-number",{style:{width:e.widget.options.width},attrs:{step:e.widget.options.step,"controls-position":"right"},model:{value:e.widget.options.defaultValue,callback:function(t){e.$set(e.widget.options,"defaultValue",t)},expression:"widget.options.defaultValue"}})]:e._e(),"radio"==e.widget.type?[a("el-radio-group",{style:{width:e.widget.options.width},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,function(t,o){return a("el-radio",{key:o,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)}))]:e._e(),"checkbox"==e.widget.type?[a("el-checkbox-group",{style:{width:e.widget.options.width},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,function(t,o){return a("el-checkbox",{key:o,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)}))]:e._e(),"time"==e.widget.type?[a("el-time-picker",{style:{width:e.widget.options.width},attrs:{"is-range":e.widget.options.isRange,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,arrowControl:e.widget.options.arrowControl,"value-format":e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"date"==e.widget.type?[a("el-date-picker",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.type,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"value-format":e.widget.options.timestamp?"timestamp":e.widget.options.format,format:e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"rate"==e.widget.type?[a("el-rate",{attrs:{max:e.widget.options.max,disabled:e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"color"==e.widget.type?[a("el-color-picker",{attrs:{disabled:e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"select"==e.widget.type?[a("el-select",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,multiple:e.widget.options.multiple,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.widget.options.showLabel||e.widget.options.remote?t.label:t.value}})}))]:e._e(),"switch"==e.widget.type?[a("el-switch",{attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"slider"==e.widget.type?[a("el-slider",{style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"imgupload"==e.widget.type?[a("fm-upload",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,width:e.widget.options.size.width,height:e.widget.options.size.height,token:e.widget.options.token,domain:e.widget.options.domain},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e()],2)}),Oe=[],$e=a("a322"),Ve={props:["widget","models","rules","remote"],components:{FmUpload:j},data:function(){return{dataModel:this.models[this.widget.model]}},created:function(){var e=this;this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc](function(t){e.widget.options.remoteOptions=t.map(function(t){return{value:t[e.widget.options.props.value],label:t[e.widget.options.props.label]}})}),"imgupload"===this.widget.type&&this.remote[this.widget.options.tokenFunc](function(t){e.widget.options.token=t})},watch:{dataModel:{deep:!0,handler:function(e){this.models[this.widget.model]=e,this.$emit("update:models",Object(k["a"])({},this.models,Object($e["a"])({},this.widget.model,e)))}},models:{deep:!0,handler:function(e){console.log("--------"),this.dataModel=e[this.widget.model]}}}},je=Ve,Ce=Object(d["a"])(je,xe,Oe,!1,null,null,null);Ce.options.__file="GenerateFormItem.vue";var Me=Ce.exports,Pe={name:"fm-generate-form",components:{GenetateFormItem:Me},props:["data","remote","value"],data:function(){return{models:{},rules:{}}},created:function(){this.generateModle(this.data.list)},methods:{generateModle:function(e){for(var t=this,a=0;a<e.length;a++)"grid"===e[a].type?e[a].columns.forEach(function(e){t.generateModle(e.list)}):(Object.keys(this.value).indexOf(e[a].model)>=0?this.models[e[a].model]=this.value[e[a].model]:"blank"===e[a].type?this.models[e[a].model]="String"===e[a].options.defaultType?"":"Object"===e[a].options.defaultType?{}:[]:this.models[e[a].model]=e[a].options.defaultValue,this.rules[e[a].model]?this.rules[e[a].model]=Object(ke["a"])(this.rules[e[a].model]).concat(Object(ke["a"])(e[a].rules)):this.rules[e[a].model]=Object(ke["a"])(e[a].rules))},getData:function(){var e=this;return new Promise(function(t,a){e.$refs.generateForm.validate(function(o){o?t(e.models):a(new Error("表单数据校验失败").message)})})},refresh:function(){}},watch:{value:{deep:!0,handler:function(e){console.log(JSON.stringify(e)),this.models=Object(k["a"])({},this.models,e)}}}},Se=Pe,Te=Object(d["a"])(Se,_e,ye,!1,null,null,null);Te.options.__file="GenerateForm.vue";var We=Te.exports,Ee=a("b311"),Fe=a.n(Ee),Le=[{type:"input",name:"单行文本",icon:"regular/keyboard",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:""}},{type:"textarea",name:"多行文本",icon:"regular/keyboard",options:{width:"100%",defaultValue:"",required:!1,pattern:"",placeholder:""}},{type:"number",name:"计数器",icon:"sort-numeric-up",options:{width:"",required:!1,defaultValue:0,min:"",max:"",step:1,disabled:!1,controlsPosition:""}},{type:"radio",name:"单选框组",icon:"regular/dot-circle",options:{inline:!1,defaultValue:"",showLabel:!1,options:[{value:"选项1",label:"选项1"},{value:"选项2",label:"选项2"},{value:"选项3",label:"选项3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"checkbox",name:"多选框组",icon:"regular/check-square",options:{inline:!1,defaultValue:[],showLabel:!1,options:[{value:"选项1"},{value:"选项2"},{value:"选项3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"time",name:"时间选择器",icon:"regular/clock",options:{defaultValue:"21:19:56",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",isRange:!1,arrowControl:!0,format:"HH:mm:ss",required:!1,width:""}},{type:"date",name:"日期选择器",icon:"regular/calendar-alt",options:{defaultValue:"",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"date",format:"yyyy-MM-dd",timestamp:!1,required:!1,width:""}},{type:"rate",name:"评分",icon:"regular/star",options:{defaultValue:null,max:5,disabled:!1,allowHalf:!1,required:!1}},{type:"color",name:"颜色选择器",icon:"palette",options:{defaultValue:"",disabled:!1,showAlpha:!1,required:!1}},{type:"select",name:"下拉选择框",icon:"regular/caret-square-down",options:{defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,width:"",options:[{value:"下拉框1"},{value:"下拉框2"},{value:"下拉框3"}],remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"switch",name:"开关",icon:"toggle-off",options:{defaultValue:!1,required:!1,disabled:!1}},{type:"slider",name:"滑块",icon:"sliders-h",options:{defaultValue:0,disabled:!1,required:!1,min:0,max:100,step:1,showInput:!1,range:!1,width:""}}],De=[{type:"blank",name:"自定义",icon:"chalkboard",options:{defaultType:"String"}},{type:"imgupload",name:"图片",icon:"regular/image",options:{defaultValue:[],size:{width:100,height:100},width:"",tokenFunc:"funcGetToken",token:"",domain:"http://pfp81ptt6.bkt.clouddn.com/",disabled:!1,length:8,multiple:!0}}],Ie=[{type:"grid",name:"栅格布局",icon:"th",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top"}}],Re=function(e){return new Promise(function(t,a){var o=document.createElement("script");o.src=e,o.type="text/javascript",document.body.appendChild(o),o.onload=function(){t()}})};function qe(e,t,a,o){for(var l=0;l<e.length;l++)"grid"==e[l].type?e[l].columns.forEach(function(e){qe(e.list,t,a,o)}):"blank"==e[l].type?e[l].model&&o.push({name:e[l].model,label:e[l].name}):"imgupload"==e[l].type?e[l].options.tokenFunc&&a.push({func:e[l].options.tokenFunc,label:e[l].name,model:e[l].model}):e[l].options.remote&&e[l].options.remoteFunc&&t.push({func:e[l].options.remoteFunc,label:e[l].name,model:e[l].model})}var ze=function(e){var t=[],a=[],o=[];qe(JSON.parse(e).list,t,a,o);for(var l="",i="",n=0;n<t.length;n++)l+="\n            ".concat(t[n].func," (resolve) {\n              // ").concat(t[n].label," ").concat(t[n].model,"\n              // 获取到远端数据后执行回调函数\n              // resolve(data)\n            },\n    ");for(var s=0;s<a.length;s++)l+="\n            ".concat(a[s].func," (resolve) {\n              // ").concat(a[s].label," ").concat(a[s].model,"\n              // 获取到token数据后执行回调函数\n              // resolve(token)\n            },\n    ");for(var d=0;d<o.length;d++)i+='\n        <template slot="'.concat(o[d].name,'" slot-scope="scope">\n          \x3c!-- ').concat(o[d].label,' --\x3e\n          \x3c!-- 通过 v-model="scope.model.').concat(o[d].name,'" 绑定数据 --\x3e\n        </template>\n    ');return'<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">\n    <link rel="stylesheet" href="https://unpkg.com/form-making/dist/FormMaking.css">\n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        '.concat(i,'\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    <script src="https://unpkg.com/form-making/dist/FormMaking.umd.js"><\/script>\n    <script>\n      new Vue({\n        el: \'#app\',\n        data: {\n          jsonData: ').concat(e,",\n          editData: {},\n          remoteFuncs: {\n            ").concat(l,"\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // 数据校验成功\n              // data 为获取的表单数据\n            }).catch(e => {\n              // 数据校验失败\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>")},Ae={name:"fm-making-form",components:{Draggable:U.a,WidgetConfig:J,FormConfig:te,WidgetForm:me,CusDialog:we,GenerateForm:We},data:function(){return{basicComponents:Le,layoutComponents:Ie,advanceComponents:De,widgetForm:{list:[],config:{labelWidth:100,labelPosition:"top"}},configTab:"widget",widgetFormSelect:null,previewVisible:!1,jsonVisible:!1,codeVisible:!1,remoteFuncs:{func_test:function(e){setTimeout(function(){var t=[{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}];e(t)},2e3)},funcGetToken:function(e){S.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then(function(t){e(t.uptoken)})}},widgetModels:{},blank:"",htmlTemplate:"",jsonTemplate:""}},mounted:function(){Re("lib/ace/src/ace.js")},methods:{handleGoGithub:function(){window.location.href="https://github.com/GavinZhuLei/vue-form-making"},handleConfigSelect:function(e){this.configTab=e},handleMoveEnd:function(e){console.log("end",e)},handleMoveStart:function(e){var t=e.oldIndex;console.log("start",t,this.basicComponents)},handleMove:function(){return!0},handlePreview:function(){this.previewVisible=!0},handleTest:function(){var e=this;this.$refs.generateForm.getData().then(function(t){e.$alert(t,"").catch(function(e){}),e.$refs.widgetPreview.end()}).catch(function(t){e.$refs.widgetPreview.end()})},handleGenerateJson:function(){this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick(function(){var e=ace.edit("jsoneditor");e.session.setMode("ace/mode/json");new Fe.a("#copybtn")})},handleGenerateCode:function(){this.codeVisible=!0,this.htmlTemplate=ze(JSON.stringify(this.widgetForm)),this.$nextTick(function(){var e=ace.edit("codeeditor");e.session.setMode("ace/mode/html")})}},watch:{widgetForm:{deep:!0,handler:function(e){console.log(this.$refs.widgetForm)}}}},Ue=Ae,Be=(a("314e"),Object(d["a"])(Ue,q,z,!1,null,null,null));Be.options.__file="Container.vue";var Ge=Be.exports;o["default"].component("icon",R["a"]),Ge.install=function(e){e.component(Ge.name,Ge)},We.install=function(e){e.component(We.name,We)};var He=[Ge,We],Ke=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];He.forEach(function(t){e.component(t.name,t)})};"undefined"!==typeof window&&window.Vue&&Ke(window.Vue);var Ne={install:Ke,MakingForm:Ge,GenerateForm:We};o["default"].use(Ne),o["default"].config.productionTip=!1,o["default"].use(I.a,{size:"small"}),new o["default"]({router:L,render:function(e){return e(p)}}).$mount("#app")},"5b5f":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var o=a("2856"),l=a.n(o);l.a},"9ea2":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_2__),vuedraggable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1516"),vuedraggable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(vuedraggable__WEBPACK_IMPORTED_MODULE_3__);__webpack_exports__["a"]={components:{Draggable:vuedraggable__WEBPACK_IMPORTED_MODULE_3___default.a},props:["data"],data:function(){return{validator:{type:null,required:null,pattern:null,range:null,length:null}}},computed:{show:function(){return!!(this.data&&Object.keys(this.data).length>0)}},methods:{handleOptionsRemove:function(e){"grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:"新选项",label:"新选项"}):this.data.options.options.push({value:"新选项"})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},generateRule:function(){var e=this;this.data.rules=[],Object.keys(this.validator).forEach(function(t){e.validator[t]&&e.data.rules.push(e.validator[t])})},handleSelectMuliple:function(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""}},watch:{"data.options.isRange":function(e){"undefined"!==typeof e&&(e?this.data.options.defaultValue=null:Object.keys(this.data.options).indexOf("defaultValue")>=0&&(this.data.options.defaultValue=""))},"data.options.required":function(e){var t=this;this.validator.required=e?{required:!0,message:"".concat(this.data.name,"必须填写")}:null,this.$nextTick(function(){t.generateRule()})},"data.options.dataType":function(e){if(!this.show)return!1;this.validator.type=e?{type:e,message:this.data.name+"格式不正确"}:null,this.generateRule()},"data.options.pattern":function dataOptionsPattern(val){if(!this.show)return!1;this.validator.pattern=val?{pattern:eval(val),message:this.data.name+"格式不匹配"}:null,this.generateRule()}}}},b325:function(e,t,a){},b36f:function(e,t,a){},d7cd:function(e,t,a){"use strict";var o=a("5b5f"),l=a.n(o);l.a}});